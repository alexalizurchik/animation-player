(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(22)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(5),c=n.n(r),i=n(3),l=n(2),u=n(6),m=n(1);n(13),n(14);function s(e){var t=e.active,n=e.onDelete,a=e.onDouble,r=e.onNumClick,c=e.num,i=e.image,l=e.onFrameClick;return o.a.createElement("div",{className:"frame ".concat(t?"frame--active":""),onClick:function(){return l(c)}},i&&o.a.createElement("img",{alt:"pic",className:"frame__img",src:i}),o.a.createElement("button",{onClick:function(e){e.stopPropagation(),n(c,e)},className:"delete-action"}),o.a.createElement("button",{onClick:function(e){e.stopPropagation(),a(c,e)},className:"copy-action"}),o.a.createElement("button",{onClick:function(e){e.stopPropagation(),r(e)},className:"add-to-animation-action"},c+1))}s.defaultProps={active:!1};var f=s;n(15);var v=function(e){var t=e.activeFrame,n=e.onDelete,a=e.onDouble,r=e.onNumClick,c=e.frames,i=e.onFrameClick,l=e.onAddFrame;return o.a.createElement("div",{className:"frame-list-wrapper"},o.a.createElement("div",{className:"frame-list"},c.map(function(e){return o.a.createElement(f,{active:t===e.num,key:e.num,num:e.num,image:e.image,onDelete:n,onDouble:a,onNumClick:r,onFrameClick:i})}),o.a.createElement("button",{className:"add-frame-button",onClick:l},"Add a new frame")))};n(16);var d=function(e){return o.a.createElement("input",Object.assign({className:"color-palette",type:"color"},e))};n(17);function p(e){var t=e.active,n=e.onDrawAction,a=e.onChooseColorAction,r=e.onPrimaryColorChange,c=e.onSecondaryColorChange,i=e.onColorChange,l=e.primaryColor,u=e.secondaryColor;return o.a.createElement("div",{className:"tools-wrapper"},o.a.createElement("ul",{className:"tools"},o.a.createElement("li",{className:"tools__item ".concat(t.isDrawAction?"tools__item--active":"")},o.a.createElement("button",{className:"draw-action",onClick:n})),o.a.createElement("li",{className:"tools__item ".concat(t.isChooseColorAction?"tools__item--active":"")},o.a.createElement("button",{className:"choose-color-action",onClick:a})),o.a.createElement("li",{className:"tools__item"},o.a.createElement("button",{className:"fill-color-action"})),o.a.createElement("li",{className:"tools__item"},o.a.createElement("button",{className:"erase-action"}))),o.a.createElement("div",{className:"color-palette-wrapper"},o.a.createElement("div",{className:"color-palette__primary"},o.a.createElement(d,{onChange:r,value:l})),o.a.createElement("div",{className:"color-palette__secondary"},o.a.createElement(d,{onChange:c,value:u})),o.a.createElement("button",{className:"color-change",onClick:i})))}p.defaultProps={active:!1};var E=p;n(18);var g=function(e){var t=e.frames,n=e.framesPerSecond,r=e.onFullScreenShow,c=Object(a.useState)(0),i=Object(m.a)(c,2),l=i[0],u=i[1],s=t[l],f=Object(a.useRef)(null);return Object(a.useEffect)(function(){var e=setTimeout(function(){var e=l<t.length-1?l+1:0;u(e)},1e3/n);return function(){return clearTimeout(e)}},[n,l,t]),o.a.createElement("div",{className:"fullscreen-preview",ref:f},o.a.createElement("div",{className:"preview"},s&&s.image?o.a.createElement("img",{className:"frame__img-active",src:s.image,alt:"Frame"}):o.a.createElement("div",{className:"emptyFrame"}),o.a.createElement("button",{onClick:function(e){return r(f.current,e)},onMouseOver:function(){return o.a.createElement("span",{className:"tooltip"},"Full screen preview")},className:"full-screen-action"})))};n(19);var b=function(e){var t=e.onChange,n=Object(a.useState)(1),r=Object(m.a)(n,2),c=r[0],i=r[1];return o.a.createElement("div",{className:"FPS-wrapper"},o.a.createElement("span",null,c," FPS"),o.a.createElement("input",{type:"range",name:"speed",min:1,max:24,defaultValue:1,onChange:function(e){i(+e.target.value),t(c)}}))},C=(n(20),o.a.createContext(null));var h=function(e){var t=Object(a.useState)(null),n=Object(m.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)(function(){if(r&&(r.getContext("2d").clearRect(0,0,e.width,e.height),e.image)){var t=new Image;t.src=e.image,t.addEventListener("load",function e(){r.getContext("2d").drawImage(t,0,0),t.removeEventListener("load",e)})}},[e.image,r,e.width,e.height]),o.a.createElement("canvas",{className:"canvas",ref:function(e){return c(e)},width:"".concat(e.width,"px"),height:"".concat(e.height,"px")},o.a.createElement(C.Provider,{value:r},e.children))},N=function(e){var t=e.onMouseUp,n=e.currentColor,o=Object(a.useContext)(C);return Object(a.useEffect)(function(){if(!o)return Function.prototype;var e=!1,a=function(){e=!e},r=function(){t(o.toDataURL())},c=function(t){var a=o.getContext("2d"),r=o.getBoundingClientRect(),c=t.clientX-r.left,i=t.clientY-r.top;a.lineWidth=10,e?(a.lineTo(c,i),a.strokeStyle=n,a.stroke(),a.beginPath(),a.arc(c,i,5,0,2*Math.PI),a.fillStyle=n,a.fill(),a.beginPath(),a.moveTo(c,i)):a.beginPath()};return o.addEventListener("mousemove",c),o.addEventListener("mousedown",a),o.addEventListener("mouseup",a),o.addEventListener("mouseup",r),function(){o.removeEventListener("mousemove",c),o.removeEventListener("mousedown",a),o.removeEventListener("mouseup",a),o.removeEventListener("mouseup",r)}},[o,t,n]),null};function w(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var j=function(){var e=Object(a.useState)({isDrawAction:!1,isChooseColorAction:!1,isColorPaletteAction:!1}),t=Object(m.a)(e,2),n=t[0],o=t[1];return{toggleToolAction:function(e){var t=n[e],a=Object(u.a)(n,[e].map(w));Object.keys(a).forEach(function(e){a[e]=!1}),a[e]=!t,o(a)},toolAction:n}};var O=function(){var e=Object(a.useState)(1),t=Object(m.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([{num:0}]),u=Object(m.a)(c,2),s=u[0],f=u[1],d=Object(a.useState)(0),p=Object(m.a)(d,2),C=p[0],w=p[1],O=j(),y=O.toggleToolAction,S=O.toolAction,k=Object(a.useState)("#000"),A=Object(m.a)(k,2),_=A[0],P=A[1],F=Object(a.useState)("#000"),D=Object(m.a)(F,2),L=D[0],x=D[1];return o.a.createElement("div",{className:"wrapper"},o.a.createElement("header",null,o.a.createElement("h1",null,"Animation player")),o.a.createElement("main",null,o.a.createElement("aside",{className:"sidebar-left"},o.a.createElement(E,{active:S,onDrawAction:function(){y("isDrawAction")},onChooseColorAction:function(){y("isChooseColorAction")},onPrimaryColorChange:function(e){return P(e.target.value)},onSecondaryColorChange:function(e){return x(e.target.value)},onColorChange:function(){console.log(1);var e=_;console.log(_),P(L),x(e),console.log(L)},primaryColor:_,secondaryColor:L}),o.a.createElement(v,{activeFrame:C,frames:s,onDelete:function(e){var t=Object(l.a)(s);t.splice(e,1),0===(t=t.map(function(e,t){return Object(i.a)({},e,{num:t})})).length&&t.push({num:0}),f(t),w(C-1)},onFrameClick:function(e){return w(e)},onDouble:function(e){var t=Object(l.a)(s);t.splice(e,0,t[e]),t=t.map(function(e,t){return Object(i.a)({},e,{num:t})}),f(t),w(e+1)},onAddFrame:function(){var e=s.length,t=s.slice();t.push({num:e}),w(e),f(t)}})),o.a.createElement("div",{className:"content"},s[C]&&o.a.createElement(h,{width:800,height:700,image:s[C].image},S.isDrawAction&&o.a.createElement(N,{onMouseUp:function(e){var t=s.slice();t[C].image=e,f(t)},currentColor:_}))),o.a.createElement("aside",{className:"sidebar-right"},o.a.createElement(g,{frames:s,framesPerSecond:n,onFullScreenShow:function(e){e.requestFullscreen()}}),o.a.createElement(b,{onChange:function(e){return r(e)}}))))};n(21);c.a.render(o.a.createElement(O,null),document.getElementById("root"))}],[[7,1,2]]]);
//# sourceMappingURL=main.56aaf560.chunk.js.map